<!-- Default home page -->
<link rel='stylesheet' type="text/css" href='http://sailsjs.org/styles/fonts.css'/>
<link rel='stylesheet' type="text/css" href='//cdnjs.cloudflare.com/ajax/libs/semantic-ui/0.16.1/css/semantic.min.css'/>
<link rel='stylesheet' type="text/css" href="http://fonts.googleapis.com/css?family=Oswald">

<style>
    html, body { height: 100%; width: 100%; margin: 0; }

    body {
        font-family: 'Oswald', serif;
    }

    #header {
        background-image:url(/images/bg.png); 
        background-repeat: repeat;
        height: 20%;
    }


</style>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
    $(function() {
        $.get('/channel', function(res){

            for (var i = 0; i < res.length; i++) {
                var tr = $('<tr>');
                var rank = $('<td>').text(i+1);
                var channelName = $('<td>').text(res[i].channelName);
                var size = $('<td>').text(res[i].size);

                var categoryPrefix = '';
                for (var j = 0; j < res[i].category.length && j < 8;j++) {
                    categoryPrefix += res[i].category[j].categoryName + ",";
                }
                var category = $('<td>').text(categoryPrefix);

                tr.append(rank);
                tr.append(channelName);
                tr.append(category);
                tr.append(size);
                $('#tableContent').append(tr);
            }
        });
    });
</script>

<div id="header">
    <div class="ui column stackable center aligned page grid">
        <a href="/">
            <img class="column eight wide" src="/images/table_head.png">
        </a>
    </div>

</div>

<div id="main" class="container">
    <table class="ui basic table">
        <thead>
            <tr><th>排名</th>
                <th>新聞台名稱</th>
                <th>該新聞台申訴案件之類別（十六個類別依數量排序）</th>
                <th>申請件總數</th>
        </tr></thead>
        <tbody id="tableContent">
        </tbody>
    </table>
</div>
